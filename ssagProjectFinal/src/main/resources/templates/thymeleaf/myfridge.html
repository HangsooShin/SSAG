<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>내 냉장고 - SSAG</title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- <link rel="shortcut icon" type="image/x-icon" th:href="@{images/favicon.svg" />} -->
  <!-- Place favicon.ico in the root directory -->

  <!-- Web Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

  <!-- ========================= CSS here ========================= -->
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/LineIcons.2.0.css" />
  <link rel="stylesheet" href="css/animate.css" />
  <link rel="stylesheet" href="css/tiny-slider.css" />
  <link rel="stylesheet" href="css/glightbox.min.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="css/sheepcastle.css" />
  <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
    crossorigin="anonymous"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css">

  <!-- Latest compiled and minified JavaScript 한국어 번역 파일 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/i18n/defaults-ko_KR.min.js"></script>
  <!-- <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/i18n/defaults-*.min.js"></script> -->


  <style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
    }
  </style>

</head>

<body>




  <!-- Preloader -->
  <!-- <div class="preloader">
    <div class="preloader-inner">
      <div class="preloader-icon">
        <span></span>
        <span></span>
      </div>
    </div>
  </div> -->
  <!-- /End Preloader -->

  <!-- Start Header Area -->
  <header class="header navbar-area">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-12">
          <div class="nav-inner">
            <nav class="navbar navbar-expand-lg">
              <a class="navbar-brand" th:href="@{/}">
                <!-- <img th:src="@{images/logo/logo.svg" alt="Logo">} -->
                <h1>SSAG.R</h1>
              </a>
              <button class="navbar-toggler mobile-menu-btn" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="toggler-icon"></span>
                <span class="toggler-icon"></span>
                <span class="toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
                <ul id="nav" class="navbar-nav ms-auto">
                  <li class="nav-item">
                    <a class="dd-menu collapsed" th:href="@{/}" data-bs-toggle="collapse" data-bs-target="#submenu-1-1"
                      aria-controls="navbarSupportedContent" aria-expanded="false"
                      aria-label="Toggle navigation">홈페이지</a>
                    <!-- <ul class="sub-menu collapse" id="submenu-1-1">
                                    <li class="nav-item active"><a th:href="@{/}">Home Default</a></li>
                                    <li class="nav-item"><a th:href="index2.html">Home Version 2</a></li>
                                    <li class="nav-item"><a th:href="index3.html">Home Version 3</a></li>
                                </ul> -->
                  </li>
                  <li class="nav-item">
                    <a th:href="@{myFridge}" aria-label="Toggle navigation">내 냉장고</a>
                  </li>
                  <li class="nav-item">
                    <a class="dd-menu collapsed" th:href="@{/#}" data-bs-toggle="collapse" data-bs-target="#submenu-1-3"
                      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">사이트
                      소개</a>
                    <ul class="sub-menu collapse" id="submenu-1-3">
                      <li class="nav-item"><a th:href="@{item-listing-grid.html}">검색 사용방법</a></li>
                      <li class="nav-item"><a th:href="@{item-listing-list.html}">내 냉장고 사용방법</a></li>
                      <li class="nav-item"><a th:href="@{item-details.html}">어플리케이션 다운로드 및 사용방법</a></li>
                    </ul>
                  </li>
                </ul>
              </div> <!-- navbar collapse -->
              <div class="login-button">
                <ul>
                  <li>
                    <a th:href="@{/login}"><i class="lni lni-enter"></i> 로그인</a>
                  </li>
                  <li>
                    <a th:href="@{/whoareu}"><i class="lni lni-user"></i> 회원가입</a>
                  </li>
                </ul>
              </div>
              <!-- <div class="button header-button">
                        <a th:href="post-item.html" class="btn">Post an Ad</a>
                    </div> -->
            </nav> <!-- navbar -->
          </div>
        </div>
      </div> <!-- row -->
    </div> <!-- container -->
  </header>
  <!-- End Header Area -->

  <!-- Start Breadcrumbs -->
  <div class="breadcrumbs">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 col-md-6 col-12">
          <div class="breadcrumbs-content">
            <h1 class="page-title">내 냉장고</h1>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-12">
          <ul class="breadcrumb-nav">
            <li><a th:href="@{/}">홈페이지</a></li>
            <li>내 냉장고</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- End Breadcrumbs -->



  <!-- start Freezy section -->


  <div class="container">
    <div class="content">
      <div class="row">
        <div class="overflow-auto">

        </div>
        <div class="col">
          <!-- 냉장고 부분 첫번째 행 시작 -->
          <!-- Start Items Tab Area -->
          <section class="items-tab section custom-padding">
            <div class="container">
              <div class="row">
                <div class="col-12">
                  <div class="section-title">
                    <h2 class="wow fadeInUp" data-wow-delay=".4s">내 냉장고</h2>
                    <p class="wow fadeInUp" data-wow-delay=".6s">남들과 다르게 냉장고를 깔끔하게 정리해봐요.</p>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-12">
                  <!-- 냉장고 nav-tab -->
                  <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                      <button class="nav-link" id="nav-popular-tab" data-bs-toggle="tab" data-bs-target="#nav-memo"
                        type="button" role="tab" aria-controls="nav-popular" aria-selected="false">메모</button>
                      <button class="nav-link active" id="nav-latest-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-latest" type="button" role="tab" aria-controls="nav-latest"
                        aria-selected="true">냉장</button>
                      <button class="nav-link" id="nav-popular-tab" data-bs-toggle="tab" data-bs-target="#nav-popular"
                        type="button" role="tab" aria-controls="nav-popular" aria-selected="false">냉동</button>
                      <button class="nav-link" id="nav-random-tab" data-bs-toggle="tab" data-bs-target="#nav-random"
                        type="button" role="tab" aria-controls="nav-random" aria-selected="false">실온</button>
                    </div>
                  </nav>

                  <div class="tab-content scroll-css" id="nav-tabContent">

                    <!-- 여기 아래에서 부터 메모 -->
                    <div class="tab-pane fade" id="nav-memo" role="tabpanel" aria-labelledby="nav-popular-tab">
                      <div class="row">
                        <div class="input-group mb-3">
                          <!-- 아래의 form 부분에서 지원해주는 방식이 아닌 js파일을 통한 fetch메소드를 활용 할 것이다. -->
                          <!-- <form class="memoSubmitForm" id="memoSubmitForm"> -->
                          <input type="text" name="memotext" class="form-control" placeholder="내용을 입력하세요"
                            aria-label="default input example" aria-describedby="button-addon2" id="memotext"
                            onkeyup="if(window.event.keyCode==13){addMemo()}">
                          <button class="btn btn-outline-secondary memoSubmitBtn" type="button" id="memoSubmitBtn"
                            onclick="addMemo()">등록</button>
                          <!-- </form> -->

                        </div>
                      </div>
                      <div class="row">
                        <div id="memo-table">
                          <table>
                            <thead>
                              <form>
                                <tr>
                                  <!-- <th>번호</th> -->
                                  <th>(writer)code</th>
                                  <th>memo</th>
                                  <th>작성일</th>
                                  <th>삭제버튼</th>
                                </tr>
                              </form>
                            </thead>
                            <!-- 여기에서 부터 -->
                            <tbody id="memoData">
                              <tr th:each="memo, i : ${memoList}" id="realmemo">
                                <!-- <td th:text="${memo.memocode}"></td>  -->
                                <input hidden name="memocode" th:value="${memo.memocode}" th:id="|memocode${i.index}|">
                                <td th:text="${memo.name}" class="author"></td>
                                <td th:text="${memo.memotext}" class="tdText"></td>
                                <td th:text="${memo.memocreateddate}" class="tdTime"></td>
                                <td type="text" class="tdDelete"><button
                                    th:class="|button btn deleteMemoBtn deletememobtn-${memo.imwriter}|" type="button"
                                    id="deleteBtn" th:onclick="|deleteMemo(${i.index})|">삭제</button></td>
                              </tr>
                            </tbody>



                          </table>
                        </div>


                        <!-- <form id="deleteMemoBtn" th:action="@{'/removeArticle/' + ${memo.memocode}}"><input
                            type="hidden">
                        </form> -->

                        <!-- <table>
                          <tr>
                            <th scope="row">
                              작성자
                            </th>
                            <td class="tdText">
                              내용 들어가는 부분.
                            </td>
                            <td class="tdTime">시간/time</td>
                          </tr>
                          <tr>
                            <th scope="row">
                              신항수
                            </th>
                            <td class="tdText">
                              내용 들어가는 부분. 얘들아 아이스크림이 없다. 사서 넣어놔!
                            </td>
                            <td class="tdTime">시간/time</td>
                          </tr>
                          <tr>
                            <th scope="row">
                              권주희
                            </th>
                            <td class="tdText">
                              내용 들어가는 부분. 오빠들 아이스크림이 없어. 사서 넣어줘!
                            </td>
                            <td class="tdTime">시간/time</td>
                          </tr>
                          <tr>
                            <th scope="row">
                              임양성
                            </th>
                            <td class="tdText">
                              내용 들어가는 부분. 여러분 아이스크림 사실 제가 다 먹었어요. 사서 넣어놓을게요!
                            </td>
                            <td class="tdTime">시간/time</td>
                          </tr>
                        </table> -->
                      </div>
                    </div>

                    <!-- 여기 밑에서부터 냉장고 상품등록 및 표시를 위한 코드 -->
                    <div class="tab-pane fade show active" id="nav-latest" role="tabpanel"
                      aria-labelledby="nav-latest-tab">
                      <div class="row">
                        <!-- 여기 아래 row는 상품 등록 칸을 같이 넣어주기 위한 row부분 -->
                        <div class="row">
                          <!-- 새 상품 등록 시작 -->
                          <div class="col-lg-3 col-md-4 col-12" id="newProductBtn">
                            <!-- Start Single Item -->
                            <!-- Button trigger modal -->
                            <button type="button" class="button btn btn-success newProductBtn" data-bs-toggle="modal"
                              data-bs-target="#selectRefrigerationModal">
                              재료 등록
                            </button>

                            <!-- Modal -->
                            <div class="modal fade" id="selectRefrigerationModal" data-bs-backdrop="static"
                              data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                              aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="staticBackdropLabel">상품 등록 방법 선택</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                      aria-label="Close"></button>
                                  </div>
                                  <!-- 여기는 모달바디 -->
                                  <div class="modal-body">
                                    <div class="row">
                                      <div class="col">
                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#ingredientUploadModal">
                                          이미지로 재료 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="ingredientUploadModal" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">이미지로 재료 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->

                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#receiptUploadModal">
                                          영수증 이미지 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="receiptUploadModal" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">영수증 이미지 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->
                                      </div>

                                      <div class="col">
                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#barcodeUploadModal">
                                          상품 바코드 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="barcodeUploadModal" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">상품 바코드 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->

                                        <!-- 재료 등록 버튼(직접입력1) -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#selftypingUploadModal">
                                          직접 입력
                                        </button>

                                        <!-- Start Single Item -->

                                        <!-- Modal -->
                                        <div class="modal fade" id="selftypingUploadModal" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">직접 입력
                                                </h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close" id="closeBtnIcon"></button>
                                              </div>
                                              <!-- 여기는 모달바디 -->
                                              <div class="modal-body">
                                                <div class="row" id="addForm1">
                                                  <form th:action="@{/appfridgebox}" id="saveIngredientBtn"
                                                    method="post">
                                                    <div class="col">
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile01">상품명</label>
                                                        <input type="text" class="form-control" list="ingredientList3"
                                                          id="inputGroupFile01">
                                                        <!-- <input list="ingredientList3" id="inputGroupFile01"> -->
                                                        <select id="ingredientList3"
                                                          class="form-select form-select-sm my-select" size="1"
                                                          aria-label=".form-select-sm example" name="ingredientcode">
                                                          <option th:each="m:${ingredientList3}"
                                                            th:class="|value-${m.ingredientcode}|"
                                                            th:value="${m.ingredientcode}"
                                                            th:text="${m.ingredientname}"></option>
                                                        </select>
                                                      </div>
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile02">수량</label>
                                                        <input type="text" name="ingredientquantityinfridgebox"
                                                          class="form-control" id="inputGroupFile02">
                                                      </div>
                                                    </div>
                                                    <div class="col">
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile03">보관위치</label>
                                                        <!-- 이 아래에서 부터 시작해!! -->
                                                        <select class="form-select form-select-sm" size="1"
                                                          aria-label=".form-select-sm example" name="storagecode">
                                                          <option value="1">냉장</option>
                                                          <option value="2">냉동</option>
                                                          <option value="3">실온</option>
                                                        </select>
                                                      </div>
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile04">유통기한</label>
                                                        <!-- <input type="text" class="form-control" id="inputGroupFile04"> -->
                                                        <input type="date" value="xxx" min="yyy" max="zzz"
                                                          class="form-control input-large" name="expiredate"
                                                          id="expiredate" placeholder="유통기한" required>
                                                      </div>
                                                    </div>
                                                  </form>

                                                  <hr>



                                                </div>
                                              </div>
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                                                  id="closeBtn">닫기</button>
                                                <button type="button" class="btn btn-secondary" id="addIngredientBtn"
                                                  onclick="addIngredientBtnHandler(1)">재료
                                                  추가</button>
                                                <!-- 다중 재료 삭제 -->
                                                <button type="submit" class="btn btn-danger"
                                                  onclick="deleteinputtable(1)">삭제</button>
                                                <button type="submit" form="saveIngredientBtn" class="btn btn-primary"
                                                  id="saveBtn">저장</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- End Single Item -->


                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End Single Item -->
                          </div>
                          <!-- 새 상품 등록 끝 -->
                        </div>


                        <div class="row">
                          <!-- 여기 아래에서 부터 냉장상품 출력 -->
                          <div class="col-lg-3 col-md-4 col-12" th:each="fridgeList, fridgeStat : ${fridgeBoxList}"
                            th:if="${fridgeList.storagecode.toString().equals('1')}">
                            <!-- Start Single Item -->
                            <!-- Button trigger modal -->
                            <button type="button" class="btn" data-bs-toggle="modal"
                              th:attr="data-bs-target='#code'+${fridgeList.ingredientcode}+'_'+${fridgeStat.index}">
                              <img th:src="${fridgeList.ingredientVo22.ingredienticonlocation}"
                                onerror="this.onerror=null; this.src='images/fridgeicon/아이스크림.png';"
                                class="imgIconBorder">
                            </button>

                            <p class="fridge-icon-name" th:text="${fridgeList.ingredientVo22.ingredientname}"></p>

                            <!-- Modal -->
                            <div class="modal fade" th:id="'code' +${fridgeList.ingredientcode}+'_'+${fridgeStat.index}"
                              data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                              aria-labelledby="staticBackdropLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <img th:src="${fridgeList.ingredientVo22.ingredienticonlocation}"
                                      onerror="this.onerror=null; this.src='images/fridgeicon/아이스크림.png';"
                                      style="height: 50px; width: 50px;"><br>
                                    <h1 class="modal-title fs-5" id="staticBackdropLabel"
                                      th:text="${fridgeList.ingredientVo22.ingredientname}"></h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                      aria-label="Close"></button>
                                  </div>
                                  <!-- 여기는 모달바디 -->
                                  <!-- 수정하기 기능 만드는 부분 -->
                                  <div class="modal-body">
                                    <div class="row">
                                      <form th:action="@{/deletefridgebox}" th:id="|modal-form-${fridgeStat.index}|"
                                        method="post">
                                        <input hidden name="ingredientcode"
                                          th:value="${fridgeList.ingredientVo22.ingredientcode}" />
                                        <div class="input-group mb-3">
                                          <label class="input-group-text"
                                            for="inputGroupFile01">&nbsp&nbsp&nbsp&nbsp수량&nbsp&nbsp&nbsp&nbsp</label>
                                          <input type="text"
                                            th:class="|form-control form-control-1-${fridgeStat.index}|"
                                            id="inputGroupFile01" name="ingredientquantityinfridgebox"
                                            th:value="${fridgeList.ingredientquantityinfridgebox}" readonly>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile01">등록일자</label>
                                          <input type="text" class="form-control " name="ingredientcreateddate"
                                            id="inputGroupFile01" th:value="${fridgeList.ingredientcreateddate}"
                                            readonly>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile03">보관위치</label>
                                          <select
                                            th:class="|form-select form-select-sm form-control-2-${fridgeStat.index}|"
                                            size="1" aria-label=".form-select-sm example" name="storagecode" disabled>
                                            <option value="1" selected="true">냉장</option>
                                            <option value="2">냉동</option>
                                            <option value="3">실온</option>
                                          </select>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile01">유통기한</label>
                                          <input type="date"
                                            th:class="|form-control form-control-3-${fridgeStat.index}|"
                                            id="inputGroupFile01" name="expiredate" th:value="${fridgeList.expiredate}"
                                            readonly>
                                        </div>
                                      </form>

                                    </div>
                                  </div>
                                  <!-- 모달 내부 버튼 -->
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                    <button type="button" class="btn btn-secondary"
                                      th:id="|changeinfobtn-${fridgeStat.index}|"
                                      th:onclick="|change_info(${fridgeStat.index})|">수정</button>
                                    <button type="submit" class="btn btn-secondary" th:formaction="@{/changefridgebox}"
                                      th:form="|modal-form-${fridgeStat.index}|"
                                      th:id="|completeinfobtn-${fridgeStat.index}|" hidden>수정완료</button>
                                    <button type="submit" class="btn btn-danger"
                                      th:form="|modal-form-${fridgeStat.index}|">삭제</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End Single Item -->
                          </div>
                        </div>

                      </div>
                    </div>


                    <!-- 여기 아래에서 부터 냉동 -->
                    <div class="tab-pane fade" id="nav-popular" role="tabpanel" aria-labelledby="nav-popular-tab">
                      <div class="row">
                        <!-- 여기 아래 row는 상품 등록 칸을 같이 넣어주기 위한 row부분 -->
                        <div class="row">
                          <!-- 새 상품 등록 시작 -->
                          <div class="col-lg-3 col-md-4 col-12" id="newProductBtn">
                            <!-- Start Single Item -->
                            <!-- Button trigger modal -->
                            <button type="button" class="button btn btn-success newProductBtn" data-bs-toggle="modal"
                              data-bs-target="#selectFrozenModal">
                              재료 등록
                            </button>

                            <!-- Modal -->
                            <div class="modal fade" id="selectFrozenModal" data-bs-backdrop="static"
                              data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                              aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="staticBackdropLabel">상품 등록 방법 선택</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                      aria-label="Close"></button>
                                  </div>
                                  <!-- 여기는 모달바디 -->
                                  <div class="modal-body">
                                    <div class="row">
                                      <div class="col">
                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#ingredientUploadModal1">
                                          이미지로 재료 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="ingredientUploadModal1" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">이미지로 재료 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->

                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#receiptUploadModal1">
                                          영수증 이미지 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="receiptUploadModal1" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">영수증 이미지 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->
                                      </div>

                                      <div class="col">
                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#barcodeUploadModal1">
                                          상품 바코드 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="barcodeUploadModal1" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">상품 바코드 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->

                                        <!-- 재료 등록 버튼(직접입력2) -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#selftypingUploadModal1">
                                          직접 입력
                                        </button>

                                        <!-- Start Single Item -->

                                        <!-- Modal -->
                                        <div class="modal fade" id="selftypingUploadModal1" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">직접 입력
                                                </h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close" id="closeBtnIcon"></button>
                                              </div>
                                              <!-- 여기는 모달바디 -->
                                              <div class="modal-body">
                                                <div class="row" id="addForm2">
                                                  <form th:action="@{/appfridgebox}" id="saveIngredientBtn1"
                                                    method="post">
                                                    <div class="col">
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile01">상품명</label>
                                                        <!-- <input type="text" class="form-control" id="inputGroupFile01"> -->
                                                        <select id="ingredientList3" class="form-select form-select-sm"
                                                          size="1" aria-label=".form-select-sm example"
                                                          name="ingredientcode">
                                                          <option th:each="m:${ingredientList3}"
                                                            th:value="${m.ingredientcode}"
                                                            th:text="${m.ingredientname}"></option>
                                                        </select>
                                                      </div>
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile02">&nbsp&nbsp&nbsp수량&nbsp&nbsp&nbsp</label>
                                                        <input type="text" name="ingredientquantityinfridgebox"
                                                          class="form-control" id="inputGroupFile02">
                                                      </div>
                                                    </div>
                                                    <div class="col">
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile03">보관위치</label>
                                                        <select class="form-select form-select-sm" size="1"
                                                          aria-label=".form-select-sm example" name="storagecode">
                                                          <option value="1">냉장</option>
                                                          <option value="2">냉동</option>
                                                          <option value="3">실온</option>
                                                        </select>
                                                      </div>
                                                      <div class="input-group mb-3">
                                                        <label class="input-group-text"
                                                          for="inputGroupFile04">유통기한</label>
                                                        <!-- <input type="text" class="form-control" id="inputGroupFile04"> -->
                                                        <input type="date" value="xxx" min="yyy" max="zzz"
                                                          class="form-control input-large" name="expiredate"
                                                          id="expiredate" placeholder="유통기한" required>
                                                      </div>
                                                    </div>
                                                  </form>

                                                  <hr>

                                                </div>
                                              </div>
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                                                  id="closeBtn">닫기</button>
                                                <button type="button" class="btn btn-secondary" id="addIngredientBtn"
                                                  onclick="addIngredientBtnHandler(2)">재료
                                                  추가</button>
                                                <!-- 다중 재료 삭제 -->
                                                <button type="submit" class="btn btn-danger"
                                                  onclick="deleteinputtable(2)">삭제</button>
                                                <button type="submit" form="saveIngredientBtn1" class="btn btn-primary"
                                                  id="saveBtn">저장</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- End Single Item -->
                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End Single Item -->
                          </div>
                          <!-- 새 상품 등록 끝 -->
                        </div>

                        <div class="row">
                          <!-- 여기 아래에서 부터 냉동상품 출력 -->
                          <div class="col-lg-3 col-md-4 col-12" th:each="fridgeList, fridgeStat : ${fridgeBoxList}"
                            th:if="${fridgeList.storagecode.toString().equals('2')}">
                            <!-- Start Single Item -->
                            <!-- Button trigger modal -->
                            <button type="button" class="btn" data-bs-toggle="modal"
                              th:attr="data-bs-target='#code'+${fridgeList.ingredientcode}+'_'+${fridgeStat.index}">
                              <img th:src="${fridgeList.ingredientVo22.ingredienticonlocation}"
                                onerror="this.onerror=null; this.src='images/fridgeicon/아이스크림.png';"
                                class="imgIconBorder">
                            </button>

                            <p class="fridge-icon-name" th:text="${fridgeList.ingredientVo22.ingredientname}"></p>

                            <!-- Modal -->
                            <div class="modal fade" th:id="'code' +${fridgeList.ingredientcode}+'_'+${fridgeStat.index}"
                              data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                              aria-labelledby="staticBackdropLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <img th:src="${fridgeList.ingredientVo22.ingredienticonlocation}"
                                      onerror="this.onerror=null; this.src='images/fridgeicon/아이스크림.png';"
                                      style="height: 50px; width: 50px;"><br>
                                    <h1 class="modal-title fs-5" id="staticBackdropLabel"
                                      th:text="${fridgeList.ingredientVo22.ingredientname}"></h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                      aria-label="Close"></button>
                                  </div>
                                  <!-- 여기는 모달바디 -->
                                  <!-- 수정하기 기능 만드는 부분 -->
                                  <div class="modal-body">
                                    <div class="row">
                                      <form th:action="@{/deletefridgebox}" th:id="|modal-form-${fridgeStat.index}|"
                                        method="post">
                                        <input hidden name="ingredientcode"
                                          th:value="${fridgeList.ingredientVo22.ingredientcode}" />
                                        <div class="input-group mb-3">
                                          <label class="input-group-text"
                                            for="inputGroupFile01">&nbsp&nbsp&nbsp&nbsp수량&nbsp&nbsp&nbsp&nbsp</label>
                                          <input type="text"
                                            th:class="|form-control form-control-1-${fridgeStat.index}|"
                                            id="inputGroupFile01" name="ingredientquantityinfridgebox"
                                            th:value="${fridgeList.ingredientquantityinfridgebox}" readonly>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile01">등록일자</label>
                                          <input type="text" class="form-control " name="ingredientcreateddate"
                                            id="inputGroupFile01" th:value="${fridgeList.ingredientcreateddate}"
                                            readonly>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile03">보관위치</label>
                                          <select
                                            th:class="|form-select form-select-sm form-control-2-${fridgeStat.index}|"
                                            size="1" aria-label=".form-select-sm example" name="storagecode" disabled>
                                            <option value="1">냉장</option>
                                            <option value="2" selected="true">냉동</option>
                                            <option value="3">실온</option>
                                          </select>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile01">유통기한</label>
                                          <input type="date"
                                            th:class="|form-control form-control-3-${fridgeStat.index}|"
                                            id="inputGroupFile01" name="expiredate" th:value="${fridgeList.expiredate}"
                                            readonly>
                                        </div>
                                      </form>

                                    </div>
                                  </div>
                                  <!-- 모달 내부 버튼 -->
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                    <button type="button" class="btn btn-secondary"
                                      th:id="|changeinfobtn-${fridgeStat.index}|"
                                      th:onclick="|change_info(${fridgeStat.index})|">수정</button>
                                    <button type="submit" class="btn btn-secondary" th:formaction="@{/changefridgebox}"
                                      th:form="|modal-form-${fridgeStat.index}|"
                                      th:id="|completeinfobtn-${fridgeStat.index}|" hidden>수정완료</button>
                                    <button type="submit" class="btn btn-danger"
                                      th:form="|modal-form-${fridgeStat.index}|">삭제</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End Single Item -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- 여기 아래에서 부터 냉동 -->
                    <div class="tab-pane fade" id="nav-random" role="tabpanel" aria-labelledby="nav-random-tab">
                      <div class="row">
                        <!-- 여기 아래 row는 상품 등록 칸을 같이 넣어주기 위한 row부분 -->
                        <div class="row">
                          <!-- 새 상품 등록 시작 -->
                          <div class="col-lg-3 col-md-4 col-12" id="newProductBtn">
                            <!-- Start Single Item -->
                            <!-- Button trigger modal -->
                            <button type="button" class="button btn btn-success newProductBtn" data-bs-toggle="modal"
                              data-bs-target="#selectFrozenModal2">
                              재료 등록
                            </button>

                            <!-- Modal -->
                            <div class="modal fade" id="selectFrozenModal2" data-bs-backdrop="static"
                              data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                              aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="staticBackdropLabel">상품 등록 방법 선택</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                      aria-label="Close"></button>
                                  </div>
                                  <!-- 여기는 모달바디 -->
                                  <div class="modal-body">
                                    <div class="row">
                                      <div class="col">
                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#ingredientUploadModal2">
                                          이미지로 재료 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="ingredientUploadModal2" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">이미지로 재료 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->

                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#receiptUploadModal2">
                                          영수증 이미지 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="receiptUploadModal2" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">영수증 이미지 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->
                                      </div>

                                      <div class="col">
                                        <!-- 내부 모달버튼 트리거 -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#barcodeUploadModal2">
                                          상품 바코드 등록
                                        </button>

                                        <!-- 내부 모달 부분 -->
                                        <!-- Modal -->
                                        <div class="modal fade" id="barcodeUploadModal2" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">상품 바코드 등록</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close"></button>
                                              </div>
                                              <!-- 이미지 업로드 모달 -->
                                              <div class="modal-body">
                                                <div class="uploadContainer">
                                                  <div class="image-upload" id="image-upload">

                                                    <form method="post" enctype="multipart/form-data">
                                                      <div class="button">
                                                        <label for="chooseFile">
                                                          👉 이미지 선택 👈
                                                        </label>
                                                      </div>
                                                      <input type="file" id="chooseFile" name="chooseFile"
                                                        accept="image/*" onchange="loadFile(this)">
                                                    </form>

                                                    <div class="fileContainer">
                                                      <div class="fileInput">
                                                        <p>파일 이름: </p>
                                                        <p id="fileName"></p>
                                                      </div>
                                                      <div class="buttonContainer">
                                                        <div class="submitButton" id="submitButton">SUBMIT</div>
                                                      </div>
                                                    </div>
                                                  </div>

                                                  <div class="image-show" id="image-show"></div>
                                                </div>
                                              </div>
                                              <!-- 이미지 업로드 모달 끝 -->
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                  data-bs-dismiss="modal">닫기</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- 내부 모달 끝 -->

                                        <!-- 재료 등록 버튼(직접입력3) -->
                                        <button class="button btn btn-success newSelectBtn" data-bs-toggle="modal"
                                          data-bs-target="#selftypingUploadModal2">
                                          직접 입력
                                        </button>

                                        <!-- Start Single Item -->

                                        <!-- Modal -->
                                        <!-- 직접입력 수정중 -->
                                        <div class="modal fade" id="selftypingUploadModal2" data-bs-backdrop="static"
                                          data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                          aria-hidden="true">
                                          <div class="modal-dialog">
                                            <div class="modal-content">
                                              <div class="modal-header">
                                                <h1 class="modal-title fs-5" id="staticBackdropLabel">직접 입력
                                                </h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                  aria-label="Close" id="closeBtnIcon"></button>
                                              </div>
                                              <!-- 여기는 모달바디 -->
                                              <div class="modal-body">
                                                <div class="row" id="addForm3">
                                                  <form th:action="@{/appfridgebox}" id="saveIngredientBtn2"
                                                    method="post">
                                                    <div class="input-group mb-3">
                                                      <label class="input-group-text" for="inputGroupFile01">상품명</label>
                                                      <!-- <input type="text" class="form-control" id="inputGroupFile01"> -->
                                                      <select id="ingredientList3" class="form-select form-select-sm"
                                                        size="1" aria-label=".form-select-sm example"
                                                        name="ingredientcode">
                                                        <option th:each="m:${ingredientList3}"
                                                          th:value="${m.ingredientcode}" th:text="${m.ingredientname}">
                                                        </option>
                                                      </select>
                                                    </div>
                                                    <div class="input-group mb-3">
                                                      <label class="input-group-text"
                                                        for="inputGroupFile02">&nbsp&nbsp&nbsp수량&nbsp&nbsp&nbsp</label>
                                                      <input type="text" name="ingredientquantityinfridgebox"
                                                        class="form-control" id="inputGroupFile02">
                                                    </div>
                                                    <div class="input-group mb-3">
                                                      <label class="input-group-text"
                                                        for="inputGroupFile03">보관위치</label>
                                                      <select class="form-select form-select-sm" size="1"
                                                        aria-label=".form-select-sm example" name="storagecode">
                                                        <option value="1">냉장</option>
                                                        <option value="2">냉동</option>
                                                        <option value="3">실온</option>
                                                      </select>
                                                    </div>
                                                    <div class="input-group mb-3">
                                                      <label class="input-group-text"
                                                        for="inputGroupFile04">유통기한</label>
                                                      <!-- <input type="text" class="form-control" id="inputGroupFile04"> -->
                                                      <input type="date" value="xxx" min="yyy" max="zzz"
                                                        class="form-control input-large" name="expiredate"
                                                        id="expiredate" placeholder="유통기한" required>
                                                    </div>
                                                  </form>

                                                  <hr>

                                                </div>
                                              </div>
                                              <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                                                  id="closeBtn">닫기</button>
                                                <button type="button" class="btn btn-secondary" id="addIngredientBtn"
                                                  onclick="addIngredientBtnHandler(3)">재료
                                                  추가</button>
                                                <!-- 다중 재료 삭제 -->
                                                <button type="submit" class="btn btn-danger"
                                                  onclick="deleteinputtable(3)">삭제</button>
                                                <button type="submit" form="saveIngredientBtn2" class="btn btn-primary"
                                                  id="saveBtn">저장</button>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- End Single Item -->
                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End Single Item -->
                          </div>
                          <!-- 새 상품 등록 끝 -->
                        </div>

                        <!-- 이 아래에서 부터 실온상품 출력 -->
                        <div class="row">
                          <!-- 여기 아래에서 부터 실온상품 출력 -->
                          <div class="col-lg-3 col-md-4 col-12" th:each="fridgeList, fridgeStat : ${fridgeBoxList}"
                            th:if="${fridgeList.storagecode.toString().equals('3')}">
                            <!-- Start Single Item -->
                            <!-- Button trigger modal -->
                            <button type="button" class="btn" data-bs-toggle="modal"
                              th:attr="data-bs-target='#code'+${fridgeList.ingredientcode}+'_'+${fridgeStat.index}">
                              <img th:src="${fridgeList.ingredientVo22.ingredienticonlocation}"
                                onerror="this.onerror=null; this.src='images/fridgeicon/아이스크림.png';"
                                class="imgIconBorder">
                            </button>

                            <p class="fridge-icon-name" th:text="${fridgeList.ingredientVo22.ingredientname}"></p>

                            <!-- Modal -->
                            <div class="modal fade" th:id="'code' +${fridgeList.ingredientcode}+'_'+${fridgeStat.index}"
                              data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                              aria-labelledby="staticBackdropLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <img th:src="${fridgeList.ingredientVo22.ingredienticonlocation}"
                                      onerror="this.onerror=null; this.src='images/fridgeicon/아이스크림.png';"
                                      style="height: 50px; width: 50px;"><br>
                                    <h1 class="modal-title fs-5" id="staticBackdropLabel"
                                      th:text="${fridgeList.ingredientVo22.ingredientname}"></h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                      aria-label="Close"></button>
                                  </div>
                                  <!-- 여기는 모달바디 -->
                                  <!-- 수정하기 기능 만드는 부분 -->
                                  <div class="modal-body">
                                    <div class="row">
                                      <form th:action="@{/deletefridgebox}" th:id="|modal-form-${fridgeStat.index}|"
                                        method="post">
                                        <input hidden name="ingredientcode"
                                          th:value="${fridgeList.ingredientVo22.ingredientcode}" />
                                        <div class="input-group mb-3">
                                          <label class="input-group-text"
                                            for="inputGroupFile01">&nbsp&nbsp&nbsp&nbsp수량&nbsp&nbsp&nbsp&nbsp</label>
                                          <input type="text"
                                            th:class="|form-control form-control-1-${fridgeStat.index}|"
                                            id="inputGroupFile01" name="ingredientquantityinfridgebox"
                                            th:value="${fridgeList.ingredientquantityinfridgebox}" readonly>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile01">등록일자</label>
                                          <input type="text" class="form-control " name="ingredientcreateddate"
                                            id="inputGroupFile01" th:value="${fridgeList.ingredientcreateddate}"
                                            readonly>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile03">보관위치</label>
                                          <select
                                            th:class="|form-select form-select-sm form-control-2-${fridgeStat.index}|"
                                            size="1" aria-label=".form-select-sm example" name="storagecode" disabled>
                                            <option value="1">냉장</option>
                                            <option value="2">냉동</option>
                                            <option value="3" selected="true">실온</option>
                                          </select>
                                        </div>
                                        <div class="input-group mb-3">
                                          <label class="input-group-text" for="inputGroupFile01">유통기한</label>
                                          <input type="date"
                                            th:class="|form-control form-control-3-${fridgeStat.index}|"
                                            id="inputGroupFile01" name="expiredate" th:value="${fridgeList.expiredate}"
                                            readonly>
                                        </div>
                                      </form>

                                    </div>
                                  </div>
                                  <!-- 모달 내부 버튼 -->
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                                    <button type="button" class="btn btn-secondary"
                                      th:id="|changeinfobtn-${fridgeStat.index}|"
                                      th:onclick="|change_info(${fridgeStat.index})|">수정</button>
                                    <button type="submit" class="btn btn-secondary" th:formaction="@{/changefridgebox}"
                                      th:form="|modal-form-${fridgeStat.index}|"
                                      th:id="|completeinfobtn-${fridgeStat.index}|" hidden>수정완료</button>
                                    <button type="submit" class="btn btn-danger"
                                      th:form="|modal-form-${fridgeStat.index}|">삭제</button>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <!-- End Single Item -->
                          </div>
                        </div>


                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
          <!-- End Items Tab Area -->
          <div class="row">


          </div>
        </div>


        <!-- 여기 레시피 검색 결과 속에 사진 크기나 레이아웃 같은거 pages에 accountOverview 에 있는 Recent ads 부분 참조해 보는 것도 좋을 것 같음 -->
        <div class="col">
          <section class="items-tab section custom-padding">
            <div class=" container">
              <div class="row">
                <div class="col-12">
                  <div class="section-title">
                    <h2 class="wow fadeInUp" data-wow-delay=".4s">레시피 검색</h2>
                    <p class="wow fadeInUp" data-wow-delay=".6s">레시피를 검색하고 한번에 장바구니에 담아보세요</p>
                  </div>
                </div>

                <div class="col-12">
                  <nav>

                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                      <button class="nav-link active" id="nav-latest-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-recipeNameSearch" type="button" role="tab" aria-controls="nav-latest"
                        aria-selected="true">레시피 이름으로 검색</button>
                      <button class="nav-link" id="nav-popular-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-recipeIngredientSearch" type="button" role="tab"
                        aria-controls="nav-popular" aria-selected="false">재료 이름으로 검색</button>
                    </div>
                  </nav>
                  <div class="tab-content scroll-css" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-recipeNameSearch" role="tabpanel"
                      aria-labelledby="nav-latest-tab">
                      <div class="row">
                        <!-- 레시피 이름으로 검색하는 폼 -->
                        <!-- <form th:action="@{/recipeList}" method="post" id="search-form"> -->
                        <div class="search-form wow fadeInUp fridge-search">
                          <div class="row">
                            <div class="col-lg-10 col-md-4 col-12 p-0">
                              <div id="search-input" class="search-input">
                                <label for="keyword"><i class="lni lni-search-alt theme-color"></i></label>
                                <input type="text " name="similar" id="similarcookname" placeholder="레시피 이름으로 검색하세요"
                                  onkeyup="if(window.event.keyCode==13){datasearch2()}">
                              </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-12 p-0">
                              <div class="search-btn button">
                                <button type="button" id="search-btn" class="btn btn-submit" onclick="datasearch2()"><i
                                    class="lni lni-search-alt"></i> 검색</button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- </form> -->
                        <!-- End Search Form -->


                        <!-- Start Items Area -->
                        <div class="my-items">
                          <!-- Start Item List Title -->
                          <div class="item-list-title wow fadeInUp">
                            <div class="row align-items-center">
                              <div class="col-lg-5 col-md-5 col-12">
                                <h5 style="margin-left: 10px;">레시피 목록</h5>
                              </div>
                            </div>
                          </div>
                          <!-- End List Title -->
                          <!-- 레시피 이름으로 검색 아이템 시작 -->
                          <div id="item-list-data1"></div>
                          <!-- 레시피 이름으로 검색 아이템 끝 -->

                        </div>
                        <!-- 여기 까지 잘라서 들어가야 함 -->
                      </div>
                    </div>
                    <div class="tab-pane fade" id="nav-recipeIngredientSearch" role="tabpanel"
                      aria-labelledby="nav-popular-tab">
                      <div class="row">
                        <!-- Start Search Form -->
                        <!--  th:action="@{/procedureList}" method="post" -->
                        <!-- <form id="procedure-search-form" enctype="application/x-www-form-urlencoded"
                          onsubmit="datasearch()"> -->
                        <div class="search-form wow fadeInUp fridge-search" data-wow-delay=".7s">
                          <div class="row">
                            <div class="col-lg-10 col-md-4 col-12 p-0">
                              <div id="search-input" class="search-input">
                                <label for="keyword"><i class="lni lni-search-alt theme-color"></i></label>
                                <input type="text" name="similar" id="similaringre" placeholder="재료 목록으로 검색하세요"
                                  onkeyup="if(window.event.keyCode==13){datasearch()}">
                              </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-12 p-0">
                              <div class="search-btn button">
                                <button type="button" id="search-btn" class="btn btn-submit" onclick="datasearch()"><i
                                    class="lni lni-search-alt"></i> 검색</button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- </form> -->
                        <!-- End Search Form -->



                        <!-- Start Items Area -->
                        <div class="my-items">
                          <!-- Start Item List Title -->
                          <div class="item-list-title wow fadeInUp">
                            <div class="row align-items-center">
                              <div class="col-lg-5 col-md-5 col-12">
                                <h5 style="margin-left: 10px;">레시피 목록</h5>
                              </div>
                            </div>
                          </div>
                          <!-- End List Title -->
                          <!-- Start Single List -->
                          <div id="item-list-data2"></div>

                          <!-- <div class="single-item-list wow fadeInUp" th:each="recipe : ${keyIndex}">
                            <p th:text="${recipe.get(procedureList.get(0).getCookVo22().getCookname()}"></p>
                          </div> -->
                          <!-- End Single List -->


                        </div>
                        <!-- 여기 까지 잘라서 들어가야 함 -->
                      </div>
                    </div>

                  </div>
                </div>


                <!-- 여기 까지 잘라서 들어가야 함 -->
              </div>
            </div>
          </section>


        </div>
      </div>
    </div>



    <!-- end Fridge section -->


    <hr>
    <select id="test">
      <option value="">사과</option>
      <option value="">딸기</option>
      <option value="">오렌지</option>
      <option value="">감귤</option>
    </select>

    <!-- Start Footer Area -->
    <footer class="footer">
      <!-- Start Footer Top -->
      <div class="footer-top">
        <div class="container">
          <div class="row">
            <div class="col-lg-3 col-md-6 col-12">
              <!-- Single Widget -->
              <div class="single-footer mobile-app">
                <h3>어플리케이션 다운로드</h3>
                <div class="app-button">
                  <a th:href="@{/#}" class="btn">
                    <i class="lni lni-play-store"></i>
                    <span class="text">
                      구글플레이
                      <span class="small-text">에서 다운로드하세요</span>

                    </span>
                  </a>
                  <a th:href="@{/#}" class="btn">
                    <i class="lni lni-apple"></i>
                    <span class="text">
                      앱스토어
                      <span class="small-text">에서 다운로드 하세요</span>
                    </span>
                  </a>
                </div>
              </div>
              <!-- End Single Widget -->
            </div>
            <div class="col-lg-3 col-md-6 col-12">
              <!-- Single Widget -->
              <div class="single-footer f-link">
                <h3>Locations</h3>
                <div class="row">
                  <div class="col-lg-6 col-md-6 col-12">
                    <ul>
                      <li><a th:href="@{/#}">Chicago</a></li>
                      <li><a th:href="@{/#}">New York City</a></li>
                      <li><a th:href="@{/#}">San Francisco</a></li>
                      <li><a th:href="@{/#}">Washington</a></li>
                      <li><a th:href="@{/#}">Boston</a></li>
                    </ul>
                  </div>
                  <div class="col-lg-6 col-md-6 col-12">
                    <ul>
                      <li><a th:href="@{/#}">Los Angeles</a></li>
                      <li><a th:href="@{/#}">Seattle</a></li>
                      <li><a th:href="@{/#}">Las Vegas</a></li>
                      <li><a th:href="@{/#}">San Diego</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <!-- End Single Widget -->
            </div>
            <div class="col-lg-3 col-md-6 col-12">
              <!-- Single Widget -->
              <div class="single-footer f-link">
                <h3>Quick Links</h3>
                <ul>
                  <li><a th:href="@{/#}">About Us</a></li>
                  <li><a th:href="@{/#}">How It's Works</a></li>
                  <li><a th:href="@{/#}">Login</a></li>
                  <li><a th:href="@{/#}">Signup</a></li>
                  <li><a th:href="@{/#}">Help & Support</a></li>
                </ul>
              </div>
              <!-- End Single Widget -->
            </div>
            <div class="col-lg-3 col-md-6 col-12">
              <!-- Single Widget -->
              <div class="single-footer f-contact">
                <h3>Contact</h3>
                <ul>
                  <li>23 New Design Str, Lorem Upsum 10<br> Hudson Yards, USA</li>
                  <li>Tel. +(123) 1800-567-8990 <br> Mail. support@classigrids.com</li>
                </ul>
              </div>
              <!-- End Single Widget -->
            </div>
          </div>
        </div>
      </div>
      <!--/ End Footer Middle -->
      <!-- Start Footer Bottom -->
      <div class="footer-bottom">
        <div class="container">
          <div class="inner">
            <div class="row">
              <div class="col-12">
                <div class="content">
                  <ul class="footer-bottom-links">
                    <li><a th:href="@{/#}">Terms of use</a></li>
                    <li><a th:href="@{/#}"> Privacy Policy</a></li>
                    <li><a th:href="@{/#}">Advanced Search</a></li>
                    <li><a th:href="@{/#}">Site Map</a></li>
                    <li><a th:href="@{/#}">Information</a></li>
                  </ul>
                  <p class="copyright-text">Designed and Developed by <a th:href="@{https://graygrids.com/}"
                      rel="nofollow" target="_blank">GrayGrids</a>
                  </p>
                  <ul class="footer-social">
                    <li><a th:href="@{/#}"><i class="lni lni-facebook-filled"></i></a></li>
                    <li><a th:href="@{/#}"><i class="lni lni-twitter-original"></i></a></li>
                    <li><a th:href="@{/#}"><i class="lni lni-youtube"></i></a></li>
                    <li><a th:href="@{/#}"><i class="lni lni-linkedin-original"></i></a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Footer Middle -->
    </footer>
    <!--/ End Footer Area -->

    <!-- ========================= scroll-top ========================= -->
    <a th:href="@{/#}" class="scroll-top btn-hover">
      <i class="lni lni-chevron-up"></i>
    </a>

    <!-- ========================= JS here ========================= -->
    <script src="js/bootstrap.min.js"></script>
    <!-- <script src="js/wow.min.js"></script> -->
    <script src="js/tiny-slider.js"></script>
    <script src="js/glightbox.min.js"></script>
    <script src="js/main.js"></script>
    <!-- <script src="js/user-access.js"></script> -->
    <script src="js/imagesubmit.js"></script>
    <!-- <script th:inline="javascript" src="js/add-ingredient.js"></script> -->
    <!-- <script src="js/btncontrol/memosubmit.js"></script> -->
    <script src="https://code.jquery.com/jquery-latest.js"></script>

    <script th:inline="javascript" type="text/javascript">
      async function datasearch2() {
        console.log("레시피 이름으로 검색 진입");
        const targetUrl = "/recipeList";
        let formData = new FormData();
        let similar = document.getElementById("similarcookname").value;
        formData.append("similar", similar);
        const options = {
          method: "post",
          body: formData,
        }

        let targetid = "#item-list-data1"

        const tb = document.querySelector(targetid);
        while (tb.firstChild) {
          tb.removeChild(tb.firstChild);
        }

        try {
          let response = await fetch(targetUrl, options);
          console.log("try부분 까지 왔니????????????????????");
          let searchdata = await response.json();
          console.log("searchdata :", searchdata);
          console.log("첫번째 for직전");
          makeRecipeCard(searchdata, targetid);

        } catch (err) {
          alert(err);
        }
        console.log("끝")

      };


      async function datasearch() {
        console.log("datasearch진입");
        const targetUrl = "/procedureList";
        let formData = new FormData();
        let similar = document.getElementById("similaringre").value;
        formData.append("similar", similar);
        const options = {
          method: "post",
          body: formData,
        }

        let targetid = "#item-list-data2"

        const tb = document.querySelector(targetid);
        while (tb.firstChild) {
          tb.removeChild(tb.firstChild);
        }

        try {
          let response = await fetch(targetUrl, options);
          let searchdata = await response.json();
          console.log("searchdata :", searchdata);
          console.log("첫번째 for직전");
          makeRecipeCard(searchdata, targetid);

        } catch (err) {
          alert(err);
        }
        console.log("끝")
      };

      function makeRecipeCard(searchdata, targetid) {
        let cardcount = 1;
        for (let cook of searchdata) {
          let itemlist = document.querySelector(targetid);
          let cookcode = document.createElement('div');
          cookcode.className = "cookcode" + cardcount;
          cookcode.hidden = true;
          cookcode.value = cook.cookVo.cookcode;

          let div1 = document.createElement('div');
          div1.setAttribute("class", "single-item-list")

          let div2 = document.createElement('div');
          div2.setAttribute("class", "row align-items-center")

          let div3 = document.createElement('div');
          div3.setAttribute("class", "col-4 col-12");


          let form = document.createElement('form');
          form.setAttribute("th:action", "@{/#}");
          form.setAttribute("method", "post");

          let div4 = document.createElement('div');
          div4.setAttribute("class", "item-image");

          let $a = document.createElement('a');
          $a.href = cook.cookVo.cooklink;

          let img = document.createElement('img');
          img.src = cook.cookVo.cookimglink;
          img.setAttribute("onerror", "this.onerror=null; this.src='images/recipe/recipe_tmp.png';");
          img.setAttribute("style", "position: none;");

          let div5 = document.createElement('div');
          div5.setAttribute("class", "content");

          let h3 = document.createElement('h3');
          h3.setAttribute("class", "title");
          h3.innerText = cook.cookVo.cookname;



          let addBasketBtn = document.createElement('button');
          addBasketBtn.setAttribute("type", "button");
          addBasketBtn.setAttribute("class", "btn btn-success recipeBtn");
          addBasketBtn.setAttribute("onclick", "addbasket(" + cardcount + ")")
          addBasketBtn.innerText = "장바구니 담기";

          let inputgroup = document.createElement('div');
          inputgroup.setAttribute("class", "input-group input-group-margin");
          inputgroup.setAttribute("style", "align:right");

          let cookserve = document.createElement('input');
          // style = "text-align:right;"
          cookserve.setAttribute("style", "text-align:center;");
          cookserve.className = "form-control cookserve cookserve" + cardcount;
          cookserve.type = "number";
          cookserve.value = 1;
          // cookserve.setAttribute("style", "float=right;");
          cookserve.setAttribute("min", "1");

          let addBtn = document.createElement("button");
          addBtn.setAttribute("class", "btn btn-outline-secondary");
          addBtn.setAttribute("type", "button");
          addBtn.setAttribute('onclick', "countup(" + cardcount + ")");
          addBtn.innerText = ">";

          let minusBtn = document.createElement("button");
          minusBtn.setAttribute("class", "btn btn-outline-secondary");
          minusBtn.setAttribute("type", "button");
          minusBtn.setAttribute('onclick', "countdown(" + cardcount + ")");
          minusBtn.innerText = "<";

          let hr = document.createElement('hr');

          let block = document.createElement('block');

          console.log("두번째 for 직전");
          // 이 밑에 있는 애들을 여기 블락에다가 순차적으로 appand시켜주려면 어떻게 해야할까?
          for (let ingredient of cook.ingredientVoList) {
            let h5 = document.createElement('h5');
            h5.innerText = ingredient.ingredientname
            block.append(h5);
          };

          // 요소 더해주기
          $a.append(img);
          h3.append(addBasketBtn);
          div5.append(h3);
          inputgroup.append(minusBtn);
          inputgroup.append(cookserve);
          inputgroup.append(addBtn);
          div5.append(inputgroup);
          div5.append(hr);
          itemlist.append(cookcode);
          div5.append(block);
          div4.append($a);
          div4.append(div5);
          form.append(div4);
          div3.append(form);
          div2.append(div3);
          div1.append(div2);
          itemlist.append(div1);
        }
        cardcount++;
      };

      function countup(num) {
        if (document.getElementsByClassName("cookserve" + num)[0].value < 50) {
          document.getElementsByClassName("cookserve" + num)[0].value++;
        }
      };


      function countdown(num) {
        if (document.getElementsByClassName("cookserve" + num)[0].value > 1) {
          document.getElementsByClassName("cookserve" + num)[0].value--;
        }
      };

      async function addbasket(num) {
        console.log("addbasket" + num + "진입");
        const targetUrl = "/getcookbasket";
        let formData = new FormData();

        let cookcode = document.getElementsByClassName("cookcode" + num)[0].value;
        let cookquantityinbasket = document.getElementsByClassName("cookserve" + num)[0].value;

        formData.append("cookcode", cookcode);
        formData.append("cookquantityinbasket", cookquantityinbasket);

        console.log("데이터 확인", cookcode, cookquantityinbasket);
        const options = {
          method: "post",
          body: formData,
        }

        try {
          let response = await fetch(targetUrl, options);
        } catch (err) {
          alert(err);
        }
      };

      function change_info(index) {
        document.getElementsByClassName("form-control-1-" + index)[0].readOnly = false;
        document.getElementsByClassName("form-control-1-" + index)[0].style.backgroundColor = "#ffffff";
        document.getElementsByClassName("form-control-2-" + index)[0].disabled = false;
        document.getElementsByClassName("form-control-2-" + index)[0].style.backgroundColor = "#ffffff";
        document.getElementsByClassName("form-control-3-" + index)[0].readOnly = false;
        document.getElementsByClassName("form-control-3-" + index)[0].style.backgroundColor = "#ffffff";
        document.getElementById("changeinfobtn-" + index).hidden = true;
        document.getElementById("completeinfobtn-" + index).hidden = false;
      };

      // 여기 아래에서 부터 memo 관련부분

      function makeMemoCard(searchdata) {
        let index = 1;
        for (let memo of searchdata) {
          tbody = document.querySelector("#memoData");

          tr = document.createElement("tr");
          tr.setAttribute("id", "realmemo");

          input = document.createElement("input");
          input.setAttribute("name", "memocode");
          input.setAttribute("value", memo.memocode);
          input.setAttribute("id", "memocode" + index);
          input.hidden = true;


          td1 = document.createElement("td");
          td1.setAttribute("class", "author");
          td1.innerText = memo.name;

          td2 = document.createElement("td");
          td2.setAttribute("class", "tdText");
          td2.innerText = memo.memotext;

          td3 = document.createElement("td");
          td3.setAttribute("class", "tdTime");
          td3.innerText = memo.memocreateddate;

          td4 = document.createElement("td");
          td4.setAttribute("class", "tdDelete");
          td4.setAttribute("type", "text");

          button = document.createElement("button");
          button.setAttribute("class", "button btn deleteMemoBtn deletememobtn-" + memo.imwriter);
          button.setAttribute("type", "button");
          button.setAttribute("id", "deleteBtn");
          button.setAttribute("onclick", "deleteMemo(" + index + ")");
          button.innerText = "삭제";

          tr.append(td1);
          tr.append(td2);
          tr.append(td3);
          td4.append(button);
          tr.append(td4);
          tbody.append(tr);

        }
        index++;
      };

      async function addMemo() {
        console.log("addMemo진입");
        const targetUrl = "/addArticle";
        let formData = new FormData();
        let memotext = document.getElementById("memotext").value;
        formData.append("memotext", memotext);
        const options = {
          method: "post",
          body: formData,
        }

        // let targetid = "#memoData"

        const tb = document.querySelector("#memoData");
        while (tb.firstChild) {
          tb.removeChild(tb.firstChild);
        }

        try {
          let response = await fetch(targetUrl, options);
          let searchdata = await response.json();
          console.log("searchdata :", searchdata);
          console.log("첫번째 for직전");
          makeMemoCard(searchdata);

        } catch (err) {
          alert(err);
        }
        console.log("끝")
      };

      async function deleteMemo(index) {
        console.log("deleteMemo 진입================================>");
        const targetUrl = "/removeArticle"
        let formData = new FormData();
        let memocode = document.getElementById("memocode" + index).value;
        console.log(memocode);
        formData.append("memocode", memocode);
        const options = {
          method: "post",
          body: formData,
        }

        const tb = document.querySelector("#memoData");
        while (tb.firstChild) {
          tb.removeChild(tb.firstChild);
        }

        try {
          let response = await fetch(targetUrl, options);
          let searchdata = await response.json();
          console.log(searchdata);
          makeMemoCard(searchdata);
        } catch (err) {
          alert(err);
        }
      };

      // 여기 아래부터는 재료추가 버튼 컨트롤
      const addIngredientBtn = document.getElementsByClassName("btn btn-secondary addIngredientBtn");



      function addIngredientBtnHandler(num) {

        /* <![CDATA[ */
        let ingrelist = [[${ ingredientList3 }]];
        /* ]]>*/

        // event.preventDefault()
        // 루트 정해주기
        const rootDiv = document.getElementById("addForm" + num);

        // 본격적인 폼 요소 작성
        const newAddForm = document.createElement("form");
        newAddForm.setAttribute("th:action", "@{/appfridgebox}");

        // 나오는 내용들의 그리드를 잡아주는 부분(첫번째 col)
        const addDivClassCol = document.createElement("div");
        addDivClassCol.setAttribute("class", "col");

        // 실질적으로 유저들이 볼 수 있는 입력부분(첫번째 입력칸)
        const addDivClassInputGroup = document.createElement("div");
        addDivClassInputGroup.setAttribute("class", "input-group mb-3");

        // label 및 input 태그 작성부분
        const addLabel = document.createElement("label");
        addLabel.setAttribute("class", "input-group-text");
        // 여기에서 말하는 for 어트리뷰트는 참조할 라벨 가능 요소의 id 속성 값을 의미함.
        addLabel.setAttribute("for", "inputGroupFile01");
        // 라벨 안에 들어갈 텍스트 작성
        const productName = document.createTextNode("상품명");
        addLabel.appendChild(productName);

        // 아래의 input 태그 대신 select 태그를 만든다.
        const addSelect = document.createElement("select");
        // addSelect.setAttribute("id", "ingredientlist" + num);
        addSelect.setAttribute("class", "form-select form-select-sm");
        addSelect.setAttribute("size", "1");
        addSelect.setAttribute("aria-label", ".form-select-sm example");
        addSelect.setAttribute("name", "ingredientcode");

        // input 태그에 append할 option 태그를 만든다.
        // const addOption = document.createElement("option");
        // addOption.setAttribute("th:each", "m:${ingredientList3}");
        // addOption.setAttribute("th:value", "${m.ingredientcode}");
        // addOption.setAttribute("th:text", "${m.ingredientname}");

        // option만드는 부분에서 for문을 돌려서 만들어본다.
        for (let eachingre of ingrelist) {
          let addOption = document.createElement("option");
          addOption.value = eachingre.ingredientcode;
          addOption.innerText = eachingre.ingredientname;
          addSelect.append(addOption);
        }

        // 첫번째 col에서 첫번째 입력칸 요소 만들기 끝

        // 실질적으로 유저들이 볼 수 있는 입력부분(두번째 입력칸)
        const addDivClassInputGroup2 = document.createElement("div");
        addDivClassInputGroup2.setAttribute("class", "input-group mb-3");

        // label 및 input 태그 작성부분
        const addLabel2 = document.createElement("label");
        addLabel2.setAttribute("class", "input-group-text");
        // 여기에서 말하는 for 어트리뷰트는 참조할 라벨 가능 요소의 id 속성 값을 의미함.
        addLabel2.setAttribute("for", "inputGroupFile02");
        // 라벨 안에 들어갈 텍스트 작성
        const productAmount = document.createTextNode("수량");
        addLabel2.appendChild(productAmount);
        // input 태그 생성 및 속성 지정
        const addInput2 = document.createElement("input");
        addInput2.setAttribute("type", "text");
        addInput2.setAttribute("name", "ingredientquantityinfridgebox");
        addInput2.setAttribute("class", "form-control");
        addInput2.setAttribute("id", "inputGroupFile02");
        // 첫번째 col에서 두번째 입력칸 요소 만들기 끝

        // 나오는 내용들의 그리드를 잡아주는 부분(두번째 col)
        const addDivClassCol2 = document.createElement("div");
        addDivClassCol2.setAttribute("class", "col");

        // 실질적으로 유저들이 볼 수 있는 입력부분(세번째 입력칸)
        const addDivClassInputGroup3 = document.createElement("div");
        addDivClassInputGroup3.setAttribute("class", "input-group mb-3");

        // label 및 input 태그 작성부분
        const addLabel3 = document.createElement("label");
        addLabel3.setAttribute("class", "input-group-text");
        // 여기에서 말하는 for 어트리뷰트는 참조할 라벨 가능 요소의 id 속성 값을 의미함.
        addLabel3.setAttribute("for", "inputGroupFile03");
        // 라벨 안에 들어갈 텍스트 작성
        const productPosition = document.createTextNode("보관위치");
        addLabel3.appendChild(productPosition);

        // ==========================================================================> 양성아 여기서 부터 시작해!!!!
        const addSelect2 = document.createElement("select");
        addSelect2.setAttribute("class", "form-select form-select-sm");
        addSelect2.setAttribute("size", "1");
        addSelect2.setAttribute("aria-label", ".form-select-sm example");
        addSelect2.setAttribute("name", "storagecode");

        // 위의 select 에다가 더해줄 option태그 만들기
        const addOption1 = document.createElement("option");
        const addOption2 = document.createElement("option");
        const addOption3 = document.createElement("option");
        addOption1.setAttribute("value", "1");
        addOption1.innerText = "냉장";
        addOption2.setAttribute("value", "2");
        addOption2.innerText = "냉동";
        addOption3.setAttribute("value", "3");
        addOption3.innerText = "실온";

        // input 태그 생성 및 속성 지정
        // const addInput3 = document.createElement("input");
        // addInput3.setAttribute("type", "text");
        // addInput3.setAttribute("class", "form-control");
        // addInput3.setAttribute("id", "inputGroupFile03");
        // 첫번째 col에서 첫번째 입력칸 요소 만들기 끝

        // 실질적으로 유저들이 볼 수 있는 입력부분(두번째 입력칸)
        const addDivClassInputGroup4 = document.createElement("div");
        addDivClassInputGroup4.setAttribute("class", "input-group mb-3");

        // label 및 input 태그 작성부분
        const addLabel4 = document.createElement("label");
        addLabel4.setAttribute("class", "input-group-text");
        // 여기에서 말하는 for 어트리뷰트는 참조할 라벨 가능 요소의 id 속성 값을 의미함.
        addLabel4.setAttribute("for", "inputGroupFile04");
        // 라벨 안에 들어갈 텍스트 작성
        const productExpireDate = document.createTextNode("유통기한");
        addLabel4.appendChild(productExpireDate);
        // input 태그 생성 및 속성 지정
        const addInput4 = document.createElement("input");
        addInput4.setAttribute("type", "date");
        addInput4.setAttribute("value", "xxx");
        addInput4.setAttribute("min", "yyy");
        addInput4.setAttribute("max", "zzz");
        addInput4.setAttribute("class", "form-control input-large");
        addInput4.setAttribute("name", "expiredate");
        addInput4.setAttribute("id", "expiredate");
        addInput4.setAttribute("placeholder", "유통기한");
        addInput4.setAttribute("required", "");

        // 첫번째 col에서 첫번째 입력칸을 만드는 과정
        addDivClassInputGroup.appendChild(addLabel);
        // addSelect.appendChild(addOption);
        addDivClassInputGroup.appendChild(addSelect);
        addDivClassCol.appendChild(addDivClassInputGroup);

        // 첫번째 col에서 두번째 입력칸을 만드는 과정
        addDivClassInputGroup2.appendChild(addLabel2);
        addDivClassInputGroup2.appendChild(addInput2);
        addDivClassCol.appendChild(addDivClassInputGroup2);

        // 두번째 col에서 세번째 입력칸을 만드는 과정
        addDivClassInputGroup3.appendChild(addLabel3);
        addSelect2.appendChild(addOption1);
        addSelect2.appendChild(addOption2);
        addSelect2.appendChild(addOption3);
        addDivClassInputGroup3.appendChild(addSelect2);
        addDivClassCol2.appendChild(addDivClassInputGroup3);

        // 두번째 col에서 네번째 입력칸을 만드는 과정
        addDivClassInputGroup4.appendChild(addLabel4);
        addDivClassInputGroup4.appendChild(addInput4);
        addDivClassCol2.appendChild(addDivClassInputGroup4);

        // form태그에 첫번째, 두번째 col append
        newAddForm.appendChild(addDivClassCol);
        newAddForm.appendChild(addDivClassCol2);

        // <hr>로 줄 그어줄 요소 만들기
        const addHr = document.createElement("hr");

        // 여기 아래 부분에는 루트div에 하나씩 붙이는 동작.
        rootDiv.appendChild(newAddForm);
        rootDiv.appendChild(addHr);
      }

      // addIngredientBtn.addEventListener("click", addIngredientBtnHandler);

      // 닫기 버튼 눌렀을 때 만들어진 요소 초기화(힘들거 같다 싶으면 그냥 페이지 리로드 시켜버려!!)
      const $closeBtnIcon = document.getElementById("closeBtnIcon");
      const $closeBtn = document.getElementById("closeBtn");

      function closeBtnHandler() { }

      $closeBtn.addEventListener("click", closeBtnHandler);
      $closeBtnIcon.addEventListener("click", closeBtnHandler);

      // 재료 다중등록 삭제 버튼 로직
      function deleteinputtable(num) {
        let addform = document.getElementById("addForm" + num);
        console.log(addform);
        console.log(addform.childElementCount);
        if (addform.childElementCount > 2) {
          addform.removeChild(addform.lastChild);
          addform.removeChild(addform.lastChild);

        }
      };

      // 셀렉트 박스 옆에 검색을 위한 함수
      function optionchoice(num) {
        let keyword = document.getElementById("ki-" + num).value;
        let brotherinput = document.getElementById("ki-" + num).nextSibling;
        console.log(brotherinput);
        let options = brotherinput.childNodes;

        for (op of options) {
          if (op.text.includes(keyword)) {
            op.hidden = false;
          } else {
            op.hidden = true;
          }
        }
      }

      // selectpicker사용을 위한 구문
      // $('.my-select').selectpicker(); // select피커 작동
      // $('#test').chosen({
      //   no_results_text: "검색 결과가 없습니다"
      //   , width: "200px"
      // });
      // jQuery(document).ready(function () {
      //   jQuery(".chosen").chosen();
      // })



    </script>
</body>

</html>